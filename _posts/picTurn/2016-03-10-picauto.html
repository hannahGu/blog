---
title: 自动播放——幻灯片缓冲效果
---
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>自动播放——幻灯片缓冲效果</title>
<link rel="stylesheet" href="{{ site.baseurl }}/public/css/prism.css"/> 
<link rel="stylesheet" href="{{ site.baseurl }}/public/css/base.css"/>   
<style>
    #show{
        height:200px;
    }
    #box .sub_contain{
        width:490px;
        height:170px;
        margin:0 auto;
        position:relative;
        overflow:hidden;
    }
    #box .list{
        height:170px;
        width:2450px;//这个宽度必须指定！？
        text-decoration: none;
        position:absolute;
        padding:0;
        
    }
    #box li{
        float:left;
        width:"490px";
        height:"170px";
    }
</style>
<script type="text/javascript">
    window.onload = function ()
    {
        //////////basic
    //    var oBox = document.getElementById("box");
    //    var oList = oBox.getElementsByTagName("ul")[0];
    //    var oLi = oBox.getElementsByTagName("li");
    //    var timer = null;
    //    var bOrder = true;
    //    var aTmp = [];
    //    var aBtn = null;
    //    var speed = -490;
    //    var len_li = oLi[0].offsetWidth;
    //    
    //    clearInterval(timer);
    //    timer = setInterval(function(){
    //        var now_left = oList.offsetLeft;
    //        if(now_left<=-4*len_li){
    //            oList.style.left = 0;
    //        }else{
    //            oList.style.left = now_left + speed+"px";
    //        }
    //    },3000);

        ////////////////left and right move auto
        var oBox = document.getElementById("box");
        var oList = oBox.getElementsByTagName("ul")[0];
        var oLi = oBox.getElementsByTagName("li");
        var timer = null;
        var index = i = 0;
        var bOrder = true;
        var aTmp = [];
        var aBtn = null;
        var count = 0;
        var speed = 490;
        var len_li = oLi[0].offsetWidth;

        clearInterval(timer);
        timer = setInterval(function(){
            var now_left = oList.offsetLeft;
            if(now_left==-4*len_li){
                speed = 490;
            }else if(now_left == 0 ){
                speed = -490;
            }
            oList.style.left = now_left + speed+"px";

        },3000);

    };
</script>
</head>
<body>
    <div id="show">
        <div id="box">
            <div class="sub_contain">
                <ul class="list">
                    <li><img src="img/01.jpg" /></li>
                    <li><img src="img/02.jpg"/></li>
                    <li><img src="img/03.jpg" /></li>
                    <li><img src="img/04.jpg" /></li>
                    <li><img src="img/05.jpg" /></li>
                </ul>
            </div>
        </div>
    </div>
    <pre id="show_code">
        <code class="language-js">
        window.onload = function ()
        {
            //////////basic
        //    var oBox = document.getElementById("box");
        //    var oList = oBox.getElementsByTagName("ul")[0];
        //    var oLi = oBox.getElementsByTagName("li");
        //    var timer = null;
        //    var bOrder = true;
        //    var aTmp = [];
        //    var aBtn = null;
        //    var speed = -490;
        //    var len_li = oLi[0].offsetWidth;
        //    
        //    clearInterval(timer);
        //    timer = setInterval(function(){
        //        var now_left = oList.offsetLeft;
        //        if(now_left<=-4*len_li){
        //            oList.style.left = 0;
        //        }else{
        //            oList.style.left = now_left + speed+"px";
        //        }
        //    },3000);

            ////////////////left and right move auto
            var oBox = document.getElementById("box");
            var oList = oBox.getElementsByTagName("ul")[0];
            var oLi = oBox.getElementsByTagName("li");
            var timer = null;
            var index = i = 0;
            var bOrder = true;
            var aTmp = [];
            var aBtn = null;
            var count = 0;
            var speed = 490;
            var len_li = oLi[0].offsetWidth;

            clearInterval(timer);
            timer = setInterval(function(){
                var now_left = oList.offsetLeft;
                if(now_left==-4*len_li){
                    speed = 490;
                }else if(now_left == 0 ){
                    speed = -490;
                }
                oList.style.left = now_left + speed+"px";

            },3000);

        };
        </code>
    </pre>
    <script src="{{ site.baseurl }}/public/js/prism.js"></script>
</body></html>