<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
            body{
                position:relative;
                overflow:hidden;
            }
            #content{
                width:768px;
                margin:10px auto;
                list-style: none;
                padding:0;
                height:172px;
                
            }
            #content li{
                float:left;
                border:1px #ccc solid;
                cursor:pointer;
                margin:0 10px;
                width:170px;
                height:170px;
            }
            #content li img{
                width:170px;
                height:170px;
            }
            #content li:hover{
                border:1px solid #ff0000;
            }
/*            #content:after{
                display:block;
                content:'';
                clear:both;
            }*/
            #show{
                position:absolute;
                top:0;
                left:0;
                background: pink;
                width:400px;height:400px;
            }
        </style>
    </head>
    <body>
        <ul id="content">
            <li><img src="img/shirt_1.jpg"/></li>
            <li><img src="img/shirt_1.jpg"/></li>
            <li><img src="img/shirt_1.jpg"/></li>
            <li><img src="img/shirt_1.jpg"/></li>
        </ul>
        <div id="show"></div>
        <script>
            window.onload = function(){
                console.log(document.documentElement.offsetWidth);
                var oLi = document.getElementsByTagName("li");
                var oShow = document.getElementById("show");
                for(var i= 0;i<oLi.length;i++){
                    oLi[i].index = i;
                    oLi[i].onmouseover = function(){
                        var oImg = this.getElementsByTagName("img")[0];
                        oShow.style.display = 'block';          
                        var oImg = document.createElement("img");
			//图片预加载
			var img = new Image();			
			//img.src = oImg.src = aLi[this.index].getElementsByTagName("img")[0].src.replace(".jpg","_big.jpg");
                        img.src = oImg.src = 'img/shirt_3_big.jpg';
//插入大图片
			oShow.appendChild(oImg); 
                    }
                    oLi[i].onmousemove = function(event){
                        var oImg = this.getElementsByTagName("img")[0];
                        var event = event || window.event;
                        oShow.style.left = event.clientX + 'px';
                        oShow.style.top = event.clientY + 'px';
                        oShow.innerHTML = '<img src="'+oImg.src+'"/>';
                        //console.log("x:"+event.clientX+';y:'+event.clientY);
                    }
                    oLi[i].onmouseout = function(event){
                        oShow.style.display = 'none';
                        this.style.backgroundColor='red';
                    }
                }
            }
        </script>
    </body>
</html>
